<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/src/assets/New republic.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RaphaÃ«l Codewalker</title>
  </head>
  <body>

    <div id="app"></div>
    
    <main class="scene left">
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
      <div class="star"><div class="point"></div></div>
    </main>

    <form>
      <button id="hyper" type="button">Go Hyper</button>
      <div class="range">
        <label for="range">Go Hyper</label>
        <input id="hyper-range" type="range" min="0" max="2" step=".2" value="0" name="">
      </div>
    </form>

    <script type="module" src="/src/main.ts">
    </script>


  </body>
  <script>
    
const stars = document.querySelectorAll('.star');
const hyper = document.getElementById('hyper');
const hyperScale = document.getElementById('hyper-range');

stars.forEach((star,i) => {
    let x = `${Math.random() * 200}vmax`
    let y = `${Math.random() * 200}vh`
    let z = `${Math.random() * 200 - 100}vmin`
    let rx = `${Math.random() * 360}deg`
    star.style.setProperty('--x', x)
    star.style.setProperty('--y', y)
    star.style.setProperty('--z', z)
    star.style.setProperty('--rx', rx)
});

hyper && hyper.addEventListener('click', e =>{
    if(document.documentElement.classList.contains('hyper')){
        stars.forEach((star,i) => {
            star.style.animationName = null;
        });
        hyper.textContent = 'Go Hyper';
    } else{
        stars.forEach((star, i) => {
            let delay = `${Math.random() * 900}ms`;
            star.style.animationName = 'hyper';
            star.style.animationDelay = delay;

        });
        hyper.textContent = 'stop hyper';
    }
    document.documentElement.classList.toggle('hyper');
});

if(document.getAnimations){
stars.forEach((star,i) => {
    let delay = `${Math.random() * 900}ms`;
    star.style.animationDelay = delay;
    star.style.animationName = 'hyper';

});
const animations = document.getAnimations();
animations.forEach(a => a.updatePlaybackRate(0));
if(animations.length && animations[0].updatePlaybackRate){
    document.documentElement.classList.add('css-animations')
    hyperScale.addEventListener('input', e => {
        const value = parseFloat(e.currentTarget.value);
        animations.forEach(a => a.updatePlaybackRate(value));
    })
}else{
    stars.forEach((star,i) => {
        star.style.animationName = null;
    });
}
}
  </script>
</html>
